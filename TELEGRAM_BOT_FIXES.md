# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Telegram –±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### ‚ùå **–ë–´–õ–û**: –ë–æ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ö–Ω–æ–ø–∫–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–ª–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ Excel –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–∏–∑–∞–π–Ω–∞ –Ω–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–ª–∏
- –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –ª–æ–≥–∏
- PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

### ‚úÖ **–°–¢–ê–õ–û**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –±–æ—Ç

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **–î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Excel/Google Sheets**
- `src/lib/telegram/handlers/items.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏:
  - `items_upload` - –≤—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –∑–∞–≥—Ä—É–∑–∫–∏
  - `items_upload_excel` - –∑–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–æ–≤
  - `items_upload_sheets` - –∑–∞–≥—Ä—É–∑–∫–∞ Google –¢–∞–±–ª–∏—Ü
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ `message:document`
  - –û–±—Ä–∞–±–æ—Ç–∫–∞ URL Google Sheets `message:text`

### 2. **–°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∏–∑–∞–π–Ω–∞**
- `src/lib/telegram/handlers/design.ts` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏:
  - –í—ã–±–æ—Ä —Ç–µ–º –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Ç–µ–º
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–∏–¥–æ–∫
  - –í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–æ–≤
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –º–µ—Ç–æ–∫ –∏ –ª–∏–Ω–∏–π –æ—Ç—Ä–µ–∑–∞

### 3. **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã**
- `src/lib/telegram/handlers/settings.ts` - –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏:
  - –°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### 4. **–°–æ–∑–¥–∞–Ω—ã API endpoints –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏**
- `src/app/api/process-excel/route.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Excel —Ñ–∞–π–ª–æ–≤
- `src/app/api/process-google-sheets/route.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Google –¢–∞–±–ª–∏—Ü
- –û–±–Ω–æ–≤–ª–µ–Ω `src/app/api/generate-pdf/route.ts` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF

### 5. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Å—Å–∏–∏**
- –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã: `awaiting_excel`, `awaiting_google_sheets`
- –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤ `src/lib/telegram/bot.ts`

### 6. **–î–æ–±–∞–≤–ª–µ–Ω—ã —É—Ç–∏–ª–∏—Ç—ã**
- `src/lib/telegram/utils/markdown.ts` - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ markdown –¥–ª—è Telegram

### 7. **–ü–æ–¥–∫–ª—é—á–µ–Ω—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏**
- –û–±–Ω–æ–≤–ª–µ–Ω `src/app/api/bot/route.ts` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫–æ—Ç–æ—Ä–∞—è —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç

### üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞–º–∏**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–æ–≤ (.xlsx, .xls, .csv)
- ‚úÖ –ò–º–ø–æ—Ä—Ç –∏–∑ Google –¢–∞–±–ª–∏—Ü
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –∏ –Ω–∞–∑–≤–∞–Ω–∏–π
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

### üé® **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–∏–∑–∞–π–Ω–∞**
- ‚úÖ 17 –≥–æ—Ç–æ–≤—ã—Ö —Ç–µ–º (—Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∫–∏–¥–æ–∫ (–≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ, —Ä–∞–∑–º–µ—Ä, –ø—Ä–æ—Ü–µ–Ω—Ç)
- ‚úÖ –í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–æ–≤
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ—Ç–æ–∫ NEW/SALE
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–Ω–∏–π –æ—Ç—Ä–µ–∑–∞

### ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã**
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–±—Ä–æ—Å –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- ‚úÖ –ü–æ–∫–∞–∑ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

### üìÑ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF**
- ‚úÖ –ë–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–∏–∑–∞–π–Ω–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä

### üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ**
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã TypeScript
- ‚úÖ –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ markdown

## –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞

üü¢ **–ì–û–¢–û–í –ö –ü–†–û–î–ê–ö–®–ï–ù–£**

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –ë–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_BOT_TOKEN`
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è `/api/bot`
3. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –¥–æ–º–µ–Ω –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è `process.env.NEXT_PUBLIC_APP_URL`

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
- [ ] –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è PDF –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫ 